#!/usr/bin/env python3

#
# To make this work, just add the following line to your crontab:
#   * * * * * DISPLAY=:0 /path/to/wallpaperator
#

from os import listdir
from random import randint
from subprocess import Popen

source = "/home/daniel/Pictures/Wallpaper"
wallpapers = listdir(source)

commands = []
commands.append("gsettings set org.gnome.desktop.background picture-uri 'file://%s/%s'" % (
    source,
    wallpapers[randint(0, len(wallpapers) - 1)]
))

# Determines how the image set by wallpaper_filename is rendered. Possible
# values are "none", "wallpaper", "centered", "scaled", "stretched", "zoom", "spanned".
# commands.append("gsettings set org.gnome.desktop.background picture-options %s" % ?)

for command in commands:
	Popen("%s >& /dev/null" % command, shell=True)


